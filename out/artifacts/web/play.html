<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>正在播放-米特乐园</title>
    <link href="css/layer.css" rel="stylesheet" />
    <link href="css/layui.css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/layer.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <script src="dpplayer/flv.min.js">
        //flv文件播放依赖
    </script>
    <script src="dpplayer/hls.min.js">
        //m3u8文件播放依赖
    </script>

    <script src="dpplayer/dash.all.min.js">
        //弹幕文件依赖
    </script>
    <script src="dpplayer/webtorrent.min.js">
        //torrent文件播放依赖
    </script>
    <script src="dpplayer/DPlayer.min.js"></script>
    <script src="js/util.js"></script>
</head>
<body>


<div class="video" id="video" style="position:absolute; left:0; top:0; width:100%; height:100%;"></div>
<script type="text/javascript">
    var param=getParams();
   var dp= new DPlayer({
        container: document.getElementById('video'),
        preload: 'none',
        live: "m3u8" in param ? false:true,
        autoplay: true,
        theme: '#faa3ac',
        loop: false,
        screenshot: true,
        airplay: true,
        hotkey: true,
        logo: 'dpplayer/logo.png',
        volume: 0.2,
        mutex: true,
        video: {
            url: param.url,
            type: 'hls'
        }
    });
    dp.on('error', function (e) {
        layer.msg("播放失败");
        console.log("error:"+e)
    });

</script>
</body>
</html>